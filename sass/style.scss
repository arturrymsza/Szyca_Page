@import url('https://fonts.googleapis.com/css?family=Josefin+Sans:300,300i,400,400i,700,700i');

$font: 'Josefin Sans', sans-serif;
$foldColor: #0f0f0f;
$yellow: #fff345;

.container {
	width: 100%;
	max-width: 1140px;
	margin: 0 auto;
}

header {
	backface-visibility: hidden;
	transform: translateZ(0);

	.top_menu {
		position: sticky;
		top: 0;
		height: 0;
		visibility: hidden;
		animation-name: menu;
		animation-duration: 2s;
		animation-delay: 7s;
		animation-fill-mode: forwards;
		font-family: $font;

		.logo_menu {
			opacity: 0;
			animation-name: logo_show;
			animation-delay: 8.5s;
			animation-duration: 1s;
			animation-fill-mode: forwards;
			display: flex;
			flex-direction: row;
			flex-wrap: wrap;
			justify-content: space-between;
			align-items: center;

			img {
				height: 120px;
				padding: 10px 0;
			}

			ul {
				display: flex;
				flex-direction: row;
				justify-content: space-around;

				li {
					padding: 0 30px;
					font-size: 15px;
					cursor: pointer;
				}

				a {
					text-decoration: none;
					color: black;
				}
			}
		}
	}

	.jumbotron {
		position: relative;
		background-image: url('../img/szyca_szyld.jpg');
		background-position: center;
		background-size: cover;
		height: 100vh;
		animation-name: jumbo;
		animation-delay: 7s;
		animation-duration: 2s;
		animation-fill-mode: forwards;
		display: flex;
		flex-direction: column;
		justify-content: center;
		font: {
			family: $font;
			size: 80px;
			weight: 700;
		};

		.tradition {
			opacity: 0;
			position: absolute;
			top: 60%;
			left: 70%;
			color: white;
			animation-name: fadeRL;
			animation-duration: 6s;
			animation-fill-mode: forwards;
		}

		.quality {
			opacity: 0;
			position: absolute;
			top: 50%;
			left: 20%;
			color: white;
			animation-name: fadeLR;
			animation-duration: 6s;
			animation-delay: 3s;
			animation-fill-mode: forwards;
		}

		.passion {
			opacity: 0;
			position: absolute;
			top: 30%;
			left: 50%;
			color: white;
			animation-name: fadeRLL;
			animation-duration: 5s;
			animation-delay: 3s;
			animation-fill-mode: forwards;
		}

		img {
			opacity: 0;
			width: 200px;
			align-self: center;
			animation-timing-function: linear;
			animation-name: magnify;
			animation-duration: 10s;
			animation-delay: 5.5s;
		}
	}
}

main {
	.services {
		position: absolute;
		width:100%;
		height:40vh;
		overflow:hidden;
		background: white;

		.wrapper {
			font-family: $font;
			box-sizing:border-box;
			width:100%;
			height:100%;
  			padding:5%;
  			perspective: 2000px;

  			.left,
  			.middle,
  			.right {
  				float: left;
				position:relative;
				height:100%;
				color: $foldColor;
				background-color:$yellow;
				width:33%;
  			}

  			.left {
  				transform-origin: 100% 50%;
				transform: rotateY(180deg);
				transition: .7s ease-in-out;
				z-index: 20;

				&.open {
					transform-origin: 100% 50%;
  					transform: rotateY(0deg);
  					transition: .7s ease-in-out;
  				}

				.front, 
				.back {
					height:100%;
					width:100%;
					position:absolute;
					top:0;
				}

				.front{
					transform: rotateY(180deg);
					color: $foldColor;
					background-color: white;
					z-index: 5;

					.sectionWrap {
						display: flex;
						flex-direction: column;
						justify-content: space-around;
						align-items: center;
						padding: 5px 20px;
					}	
					.openB {
						transform: translateX(-60px);
						background-color: $yellow;
						border: none;
						padding:5px;
						min-width:120px;
						max-width:150px;
						z-index:50;
						bottom:20px;
						font-weight:400;
						font-size:1em;
						opacity: 1;
						transition:.2s ease-in-out;
						cursor:pointer;
						color: $foldColor;

						&:hover {
							background-color:rgba(0,0,0,1);
							color:white;
							transition:.2s ease-in-out;
						}
					}

					.preview {
						max-height:100px;
						overflow:hidden;
						text-overflow: ellipsis;
						content: "";
						position:relative;
						display:block;

						&:before {
							content:'';
							width:100%;
							height:100%;    
							position:absolute;
							left:0;
							top:0;
							background:linear-gradient(transparent, white);
						}
					}
				}

				img {
					box-sizing:border-box;
					height: 70%;
				}
				
				.back{
					color: $foldColor;
					background-color: $yellow;
					z-index: 4;
					backface-visibility: hidden;

					&.open {
						z-index: 10;
					}
				}
  			}

  			.right {
				transform-origin:0% 50%;
				transform:rotateY(-180deg);
				transition:.7s ease-in-out;
			
  				&.open {
					transform-origin: 0% 50%;
					transform: rotateY(0deg);
					transition: .7s ease-in-out;
  				}

  				.closeB {
  					position:absolute;
					border:none;
					background-color:rgba(0,0,0,0.6);
					color:white;
					z-index:50;
					width:50px;
					font-size:1.5em;
					cursor:pointer;
					height:50px;
					top:0;
					right:0;
					transition:.2s ease-in-out;

					&:hover {
						background-color:rgba(0,0,0,0.2);
						transition:.2s ease-in-out;
					}
  				}
  			}

			.sectionWrap {
				height:100%;
				width:100%;
				padding:20px;
				box-sizing:border-box;
				overflow:hidden;

				h1 {
					font-size:3em;
					line-height:1;
				}

				p {
					font-size:1.2em;
					max-height:100px;
					text-overflow: clip;
				}

				hr {
					border:3px solid #34495e;
					width:30px;
					margin:12px 0 8px 1px;
					text-align:left;
					color: white;
				}
			}
		}
	}
}

@keyframes menu {
	from {visibility: hidden;
		height: 0;}
	to {visibility: visible;
		height: 15vh;}
}

@keyframes jumbo {
	from {
		background-image: url('../img/szyca_szyld.jpg');
		height: 100vh;}
	to {
		background-image: url('../img/szyca_torba.jpg');
		height: 85vh;
	}
}

@keyframes logo_show {
	from {opacity: 0;}
	to {opacity: 1;}
}

@keyframes fadeRL {
	0% {
		left: 70%;
		opacity: 0;
	}
	50% {
		opacity: 0.8;
	}
	100% {
		left: 50%;
		opacity: 0;
	}
}

@keyframes fadeRLL {
	0% {
		left: 50%;
		opacity: 0;
	}
	50% {
		opacity: 0.8;
	}
	100% {
		left: 20%;
		opacity: 0;
	}
}

@keyframes fadeLR {
	0% {
		left: 60%;
		opacity: 0;
	}
	50% {
		opacity: 1;
	}
	100% {
		left: 80%;
		opacity: 0;
	}
}

@keyframes magnify {
	0% {
		opacity: 0;
		width: 200px;
	}
	80% {
		opacity: 1;
		width: 400px;
	}
	100% {
		opacity: 0;
		width: 500px;
	}
}